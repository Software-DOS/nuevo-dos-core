<!-- Navbar -->
<nav class="navbar" id="navbar">
  <div class="logo">
    <img src="assets/img/logo.png" alt="Logo DOS" class="logo-img">
  </div>
  <div class="nav-links">
      <a href="dashboard.html" class="fas fa-bell"></a>
      <a href="dashboard.html">Inicio</a>
      <a href="lista_empleados.html" class="active">Perfiles</a>
      <a href="lista_capacitaciones.html">Capacitaciones</a>
      <a href="lista_evaluaciones.html">Evaluaciones</a>
      <a href="empleado_cv.html">Ver Mi Perfil</a>
      <button id="logoutButton" class="nav-button">Cerrar Sesión</button>
      <div class="profile-dropdown">
          <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="profile-avatar" (click)="toggleDropdown()">
          <div class="dropdown-menu" id="profileMenu">
              <a href="lista_empleados.html"><i class="fas fa-users"></i> Ver Perfiles</a>
              <a href="lista_capacitaciones.html"><i class="fas fa-chalkboard-teacher"></i> Capacitaciones</a>
              <a href="lista_evaluaciones.html"><i class="fas fa-clipboard-check"></i> Evaluaciones</a>
              <a href="empleado_cv.html"><i class="fas fa-user-circle"></i> Ver Mi Perfil</a>
          </div>
      </div>
  </div>
</nav>

<!-- Tarjeta del Empleado -->
<div class="employee-card">
    <img [src]="employeeData.personalInfo.photo" alt="Foto del Empleado" class="employee-image">
    <div class="employee-personal-info">
        <h1>{{employeeData.personalInfo.fullName}}</h1>
        <div class="employee-contact">
            <a [href]="'mailto:' + employeeData.personalInfo.email">✉️ {{employeeData.personalInfo.email}}</a>
        </div>
        <p class="employee-position">{{employeeData.personalInfo.position}}</p>
        <p class="employee-area">{{employeeData.personalInfo.area}}</p>
        <p class="employee-subarea">{{employeeData.personalInfo.subArea}}</p>
    </div>
</div>

<!-- Sección Principal -->
<div class="main-section">    <div class="category-index">
        <ul>
            <li><div class="category-link" data-target="bibliografia" (click)="onCategoryClick($event, 'bibliografia')">Bibliografía</div></li>
            <li><div class="category-link" data-target="info-personal" (click)="onCategoryClick($event, 'info-personal')">Información Personal</div></li>
            <li><div class="category-link" data-target="contacto" (click)="onCategoryClick($event, 'contacto')">Contacto y Dirección</div></li>
            <li><div class="category-link" data-target="emergencia" (click)="onCategoryClick($event, 'emergencia')">Contacto de Emergencia</div></li>
            <li><div class="category-link" data-target="familiares" (click)="onCategoryClick($event, 'familiares')">Familiares</div></li>
            <li><div class="category-link" data-target="documentos" (click)="onCategoryClick($event, 'documentos')">Documentos de Identidad</div></li>
            <li><div class="category-link" data-target="empleo" (click)="onCategoryClick($event, 'empleo')">Información de Empleo</div></li>
            <li><div class="category-link" data-target="historia-laboral" (click)="onCategoryClick($event, 'historia-laboral')">Historia Laboral</div></li>
            <li><div class="category-link" data-target="formacion" (click)="onCategoryClick($event, 'formacion')">Formación Académica</div></li>
            <li><div class="category-link" data-target="idiomas" (click)="onCategoryClick($event, 'idiomas')">Idiomas</div></li>
            <li><div class="category-link" data-target="proyectos" (click)="onCategoryClick($event, 'proyectos')">Proyectos</div></li>
        </ul>
    </div>
    <div class="content-area">            <div id="bibliografia" class="content-section">
                <h2>Bibliografía</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Fecha de Nacimiento:</span>
                        <span class="value">{{employeeData.bibliography.birthDate}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">País de Nacimiento:</span>
                        <span class="value">{{employeeData.bibliography.birthCountry}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Provincia:</span>
                        <span class="value">{{employeeData.bibliography.birthProvince}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Ciudad:</span>
                        <span class="value">{{employeeData.bibliography.birthCity}}</span>
                    </div>
                </div>
            </div>            <div id="info-personal" class="content-section">
                <h2>Información Personal</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Nombres:</span>
                        <span class="value">{{employeeData.personalDetails.firstName}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Apellidos:</span>
                        <span class="value">{{employeeData.personalDetails.lastName}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Sexo:</span>
                        <span class="value">{{employeeData.personalDetails.gender}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Estado Civil:</span>
                        <span class="value">{{employeeData.personalDetails.maritalStatus}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Tipo de Sangre:</span>
                        <span class="value">{{employeeData.personalDetails.bloodType}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Último Nivel de Estudio:</span>
                        <span class="value">{{employeeData.personalDetails.educationLevel}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Cargas Familiares:</span>
                        <span class="value">{{employeeData.personalDetails.dependents}}</span>
                    </div>
                </div>
            </div>            <div id="contacto" class="content-section">
                <h2>Contacto y Dirección</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Correo Institucional:</span>
                        <span class="value">{{employeeData.contact.institutionalEmail}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Correo Personal:</span>
                        <span class="value">{{employeeData.contact.personalEmail}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Número Celular:</span>
                        <span class="value">{{employeeData.contact.cellPhone}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Dirección Domiciliaria:</span>
                        <span class="value">{{employeeData.contact.address}}</span>
                    </div>
                </div>
            </div>            <div id="emergencia" class="content-section">
                <h2>Contacto de Emergencia</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Nombre:</span>
                        <span class="value">{{employeeData.emergency.name}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Relación:</span>
                        <span class="value">{{employeeData.emergency.relationship}}</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Teléfono:</span>
                        <span class="value">{{employeeData.emergency.phone}}</span>
                    </div>
                </div>
            </div>            <div id="familiares" class="content-section">
                <h2>Familiares</h2>
                <div class="subsection">
                    <h3>Información Conyugal</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">Estado:</span>
                            <span class="value">{{employeeData.personalDetails.maritalStatus}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nombre del Cónyuge:</span>
                            <span class="value">{{employeeData.family.spouse.name}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Fecha de Matrimonio:</span>
                            <span class="value">{{employeeData.family.spouse.marriageDate}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Discapacidad:</span>
                            <span class="value">{{employeeData.family.spouse.disability}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Documentos:</span>
                            <span class="value document-placeholder">Archivos Adjuntos</span>
                        </div>
                    </div>
                </div>
                <div class="subsection">
                    <h3>Dependientes</h3>
                    <div class="dependents-list">
                        <div class="dependent-item" *ngFor="let child of employeeData.family.children">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="label">Nombre:</span>
                                    <span class="value">{{child.name}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Fecha de Nacimiento:</span>
                                    <span class="value">{{child.birthDate}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Discapacidad:</span>
                                    <span class="value">{{child.disability}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Documentos:</span>
                                    <span class="value document-placeholder">Archivos Adjuntos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        <div id="documentos" class="content-section">
            <h2>Documentos de Identidad</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="label">Número de Cédula:</span>
                    <span class="value">12345678A</span>
                </div>
                <div class="info-item">
                    <span class="label">Documento:</span>
                    <span class="value document-placeholder">Archivos Adjuntos</span>
                </div>
            </div>
        </div>            <div id="empleo" class="content-section">
                <h2>Información de Empleo</h2>
                <div class="subcategory-nav">
                    <div class="subcategory-link active" data-subtarget="info-organizacional" (click)="onSubcategoryClick($event, 'info-organizacional')">Información Organizacional</div>
                    <div class="subcategory-link" data-subtarget="info-plaza" (click)="onSubcategoryClick($event, 'info-plaza')">Información de Plaza</div>
                    <div class="subcategory-link" data-subtarget="organigrama" (click)="onSubcategoryClick($event, 'organigrama')">Organigrama</div>
                </div>
                
                <div class="subcategory-content">
                    <div id="info-organizacional" class="subcategory-section active">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Cargo:</span>
                                <span class="value">{{employeeData.employment.position}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Fecha de Inicio:</span>
                                <span class="value">{{employeeData.employment.startDate}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Empresa:</span>
                                <span class="value">{{employeeData.employment.company}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Área:</span>
                                <span class="value">{{employeeData.employment.area}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Subárea:</span>
                                <span class="value">{{employeeData.employment.subArea}}</span>
                            </div>
                        </div>
                    </div>

                    <div id="info-plaza" class="subcategory-section">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Jefe Directo:</span>
                                <span class="value">{{employeeData.employment.directManager}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Tipo de Contrato:</span>
                                <span class="value">{{employeeData.employment.contractType}}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Ubicación:</span>
                                <span class="value">{{employeeData.employment.location}}</span>
                            </div>
                        </div>
                    </div>

                    <div id="organigrama" class="subcategory-section">
                        <div class="organigrama-visual">
                            <div class="org-nivel">
                                <div class="org-box jefe">
                                    <div class="org-avatar">MS</div>
                                    <div class="org-info">
                                        <h4>{{employeeData.employment.directManager}}</h4>
                                        <p>Gerente de Desarrollo</p>
                                    </div>
                                </div>
                            </div>
                            <div class="org-conector">
                                <div class="org-linea-vertical"></div>
                            </div>
                            <div class="org-nivel">
                                <div class="org-box empleado">
                                    <div class="org-avatar">JR</div>
                                    <div class="org-info">
                                        <h4>{{employeeData.personalDetails.firstName.charAt(0)}}{{employeeData.personalDetails.lastName.split(' ')[0]}}</h4>
                                        <p>{{employeeData.employment.position}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>            <div id="historia-laboral" class="content-section">
                <h2>Historia Laboral</h2>
                <div class="job-history">
                    <div class="job-item" *ngFor="let job of employeeData.workHistory">
                        <h3>{{job.position}}</h3>
                        <p class="company">{{job.company}}</p>
                        <p class="dates">{{job.dates}}</p>
                        <p class="functions">{{job.functions}}</p>
                    </div>
                </div>
            </div>            <div id="formacion" class="content-section">
                <h2>Formación Académica</h2>
                <div class="subcategory-nav">
                    <div class="subcategory-link active" data-subtarget="estudios" (click)="onSubcategoryClick($event, 'estudios')">Estudios</div>
                    <div class="subcategory-link" data-subtarget="certificaciones" (click)="onSubcategoryClick($event, 'certificaciones')">Especialidades y Certificaciones</div>
                </div>

                <div class="subcategory-content">
                    <div id="estudios" class="subcategory-section active">
                        <div class="education-item" *ngFor="let degree of employeeData.education.degrees">
                            <h4>{{degree.level}}</h4>
                            <p>{{degree.title}}</p>
                            <p>{{degree.institution}}</p>
                        </div>
                    </div>

                    <div id="certificaciones" class="subcategory-section">
                        <div class="certification-item" *ngFor="let cert of employeeData.education.certifications">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="label">Título:</span>
                                    <span class="value">{{cert.title}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Institución:</span>
                                    <span class="value">{{cert.institution}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Fecha:</span>
                                    <span class="value">{{cert.date}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="label">Certificado:</span>
                                    <span class="value document-placeholder">Archivos Adjuntos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>            <div id="idiomas" class="content-section">
                <h2>Idiomas</h2>
                <div class="language-item" *ngFor="let lang of employeeData.languages">
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">Idioma:</span>
                            <span class="value">{{lang.language}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Nivel:</span>
                            <span class="value">{{lang.level}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Certificación:</span>
                            <span class="value document-placeholder">Archivos Adjuntos</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="proyectos" class="content-section">
                <h2>Proyectos</h2>
                <div class="project-item" *ngFor="let project of employeeData.projects">
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">Título:</span>
                            <span class="value">{{project.title}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Especialidad:</span>
                            <span class="value">{{project.specialty}}</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Año:</span>
                            <span class="value">{{project.year}}</span>
                        </div>
                    </div>
                </div>
            </div>
    </div>
</div>

<footer class="page-footer">
    <button id="printCVButton" class="nav-button" (click)="onPrintCV()">Imprimir CV</button>
</footer>

<a href="#" class="back-to-top">↑</a>
